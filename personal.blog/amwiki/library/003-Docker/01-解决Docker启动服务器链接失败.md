# 解决Docker启动服务器链接失败-Job for docker.service failed because the control process exited error code
## 今天装Docker时发现，都已经安装完成了，发现报如下错误：
```java
正准备解包 .../git-man_1%3a2.7.4-0ubuntu1.4_all.deb  ...
正在解包 git-man (1:2.7.4-0ubuntu1.4) ...
正在选中未选择的软件包 git。
正准备解包 .../git_1%3a2.7.4-0ubuntu1.4_amd64.deb  ...
正在解包 git (1:2.7.4-0ubuntu1.4) ...
正在选中未选择的软件包 ubuntu-fan。
正准备解包 .../ubuntu-fan_0.12.8~16.04.2_all.deb  ...
正在解包 ubuntu-fan (0.12.8~16.04.2) ...
正在处理用于 man-db (2.7.5-1) 的触发器 ...
正在处理用于 ureadahead (0.100.0-19) 的触发器 ...
正在处理用于 systemd (229-4ubuntu10) 的触发器 ...
正在设置 bridge-utils (1.5-9ubuntu1) ...
正在设置 cgroupfs-mount (1.2) ...
正在设置 runc (1.0.0~rc2+docker1.13.1-0ubuntu1~16.04.1) ...
正在设置 containerd (0.2.5-0ubuntu1~16.04.1) ...
正在设置 docker.io (1.13.1-0ubuntu1~16.04.2) ...
正在添加组"docker" (GID 129)...
完成。
Job for docker.service failed because the control process exited with error code. See "systemctl status docker.service" and "journalctl -xe" for details.
invoke-rc.d: initscript docker, action "start" failed.
dpkg: 处理软件包 docker.io (--configure)时出错：
 子进程 已安装 post-installation 脚本 返回错误状态 1
正在设置 liberror-perl (0.17-1.2) ...
正在设置 git-man (1:2.7.4-0ubuntu1.4) ...
正在设置 git (1:2.7.4-0ubuntu1.4) ...
正在设置 ubuntu-fan (0.12.8~16.04.2) ...
正在处理用于 systemd (229-4ubuntu10) 的触发器 ...
正在处理用于 ureadahead (0.100.0-19) 的触发器 ...
在处理时有错误发生：
 docker.io
E: Sub-process /usr/bin/dpkg returned an error code (1)
```
用 systemctl status docker.service 查看具体的错误信息，这里有报错： process:12784 Exestart=/usr/bin/dockerd -H fd://(code=exited,status=1/FAILURE),如下图：
![](assets/003/20180710-5fb16669.png)  

## 执行如下命令即可解决：
```java
export DOCKER_OPTS='-s overlay2'
sudo systemctl daemon-reload  &   sudo systemctl restart docker
```
![](assets/003/20180710-c3593140.png)  

## 上述做法当然时临时的做法，如果需要持久化的话，可以编辑如下图的文件标红位置，即可实现持久化操作：
![](assets/003/20180710-83fb0a92.png)  

具体的也可以参考如下链接：
https://blog.csdn.net/G_Barble/article/details/78356126
